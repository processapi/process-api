var f=Object.defineProperty;var L=(s,e,t)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var b=(s,e)=>f(s,"name",{value:e,configurable:!0});var m=(s,e,t)=>(L(s,typeof e!="symbol"?e+"":e,t),t),w=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var p=(s,e,t)=>(w(s,e,"read from private field"),t?t.call(s):e.get(s)),q=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},E=(s,e,t,r)=>(w(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);function i(s,e,t=""){if(!s)throw new Error(`${t}Arguments are required`.trim());for(let r in e){let n=e[r],o=s[r];if(n.required&&o==null)throw new Error(`${t}Argument "${r}" is required`.trim());if(o!=null){let a=n.type.toLowerCase(),y=typeof o=="object"?o.constructor?.name.toLowerCase():typeof o,d=globalThis[n.type??""];if(y!==a&&!(d!=null&&o instanceof d))throw new Error(`${t}Argument "${r}" should be of type "${n.type}"`.trim())}else n.default!=null&&(s[r]=n.default)}}b(i,"validateArgs");var h=class{static async load_html(e){i(e,{url:{type:"string",required:!0},hasCss:{type:"boolean",required:!1}},"ComponentModule.load_html: ");let{url:t,hasCss:r}=e,n=t.replace(".js",".html"),o=await fetch(n).then(a=>a.text());return r!==!1&&(o=`<link rel="stylesheet" href="${t.replace(".js",".css")}">${o}`),o}static async load_component(e){i(e,{element:{type:"HTMLElement",required:!0},url:{type:"string",required:!0}},"ComponentModule.load_component: "),await new Promise(r=>{let{element:n,url:o}=e;h.load_html({url:o}).then(a=>{n.shadowRoot.innerHTML=a,requestAnimationFrame(()=>{h.ready({element:n}),r()})})})}static async ready(e){i(e,{element:{type:"HTMLElement",required:!0}},"ComponentModule.ready: ");let{element:t}=e;t.dataset.ready="true",t.dispatchEvent(new CustomEvent("ready"))}static async on_ready(e){i(e,{element:{type:"HTMLElement",required:!0},callback:{type:"function",required:!0}},"ComponentModule.on_ready: ");let{element:t,callback:r}=e;t.dataset.ready==="true"?r():t.addEventListener("ready",r)}static async filter_ul(e){let{text:t,attribute:r,listElement:n}=e;n.querySelectorAll("li").forEach(a=>{let y=a.textContent,d=a.getAttribute(r);y.includes(t)||d?.includes(t)?a.removeAttribute("hidden"):a.setAttribute("hidden","hidden")})}},l=h;m(l,"name",Object.freeze("component"));var c,u=class extends HTMLElement{constructor(){super();q(this,c,void 0);this.attachShadow({mode:"open"}),this.style.display="none"}async connectedCallback(){this.shadowRoot.innerHTML=await l.load_html({url:import.meta.url}),requestAnimationFrame(()=>{p(this,c)&&this.setState(p(this,c)),this.style.display="block"})}setState(t){let r=this.shadowRoot.querySelector("material-icon");if(r==null){E(this,c,t);return}let n={busy:"progress_activity",success:"check",error:"error_outline"}[t];l.on_ready({element:r,callback:()=>{r.setIcon(n),r.classList.remove("success","error","rotate"),t==="busy"?r.classList.add("rotate"):t==="success"?r.classList.add("success"):t==="error"&&r.classList.add("error")}})}};c=new WeakMap,m(u,"name",Object.freeze("activity-state"));customElements.define(u.name,u);
//# sourceMappingURL=activity-state.js.map
